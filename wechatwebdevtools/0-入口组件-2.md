# 多账户模式下的入口组件

## componentDidMount
1. 监听resize
2. 初始化菜单
3. 更新场景配置 this.props.updateSceneConfig(a)
4. 监听配置更新 B.on('CONFIG_UPDATE', this._onConfigUpdate)
5. this.props.requestProjectAttr(!1)
6. 监测项目配置文件this.watchProjectConfig()
7. S.addListener(),监听网络请求，拦截requestHeaders
  ```
  exports.addListener = ()=>{
    chrome.webRequest.onBeforeSendHeaders.addListener(handler, {
        urls: ["<all_urls>"]
    }, ["blocking", "requestHeaders"])
  }
  ```

## render
```
<div>
    <div onClick={this.onBodyClick.bind(this)}>
        <n/> // 组件n：header
        <div className="main">
            <o compileType={c} project={this.props.project} /> // 组件o
            {a.shareInfoShow ? <x key="share"/>:null}  //组件x
            {a.addDeviceShow ? <K key="adddevice"/>:null} //组件K
            {a.musicShow ? <L key="music"/>:null} //组件L
            {a.confirmShow ? <y key="confirm"/>:null} //组件y
            <div onMouseDown={this.onBodyClick.bind(this)}>
                {this.getSimulator(c)}
            </div>
            <div onMouseDown={this.onBodyClick.bind(this)}>
                <div>{this.getService(c)}</div>
            </div>
            {a.showSelectProject ? <z/>:null}  //组件z
            {a.showCreateProject ? <A/>:null}  //组件A
        </div>
        <I/> // 组件I
        {e} //遮罩组件
    </div>
</div>
```
## 组件n：header
```
<div className="header">
    <e/>
    <k left={this.state.condictionDropDownLeft} top={this.state.condictionDropDownTop}/>
    <y/>
    <div className="toolbar">
        <div className="toolbar-items">
            <div className="toolbar-item" id="toolbar-simulator" onClick={this.onSetSimulator.bind(this)}>
                <div disabled={b.toolbarConfigShow} className={classnames("toolbar-action",{"toolbar-action-active": b.simulatorShow && !b.simulatorPopup}}>
                    <div className="toolbar-button">
                        <i className="ui-icon-simulator"/>
                    </div>
                    <p className="toolbar-label">模拟器</p>
                </div>
            </div>
            <div className="toolbar-item" id="toolbar-devtools" onClick={this.onSetAppservice.bind(this)}>
                <div disabled={b.toolbarConfigShow} className={classnames("toolbar-action",{"toolbar-action-active": b.debugShow && !b.debugPopup}}>
                    <div className="toolbar-button">
                        <i className="ui-icon-debug"/>
                    </div>
                    <p className="toolbar-label">调试器</p>
                </div>
            </div>
        </div>
        <div className="toolbar-items">
            <div className="toolbar-item"></div>
            <div className="toolbar-item">
                <div className="toolbar-action-group">
                    <div className="toolbar-action" onClick={this.toggleCompileCondiction.bind(this)} disabled={b.toolbarConfigShow}>
                        <div className="toolbar-action-selector" onClick={this.toggleCompileCondiction.bind(this)}>
                            <p>{b.condictionName}</p>
                            <i className=""/>
                        </div>
                    </div>
                    <div className="toolbar-action" id="toolbar-compile" onClick={this.onLaunchSimulator.bind(this)} disabled={b.toolbarConfigShow}>
                        <div className="toolbar-button">
                            <i className="ui-icon-refresh"/>
                        </div>
                        <p className="toolbar-label">编译</p>
                    </div>
                </div>
            </div>
            <div className="toolbar-item">
                <div className="toolbar-action" id="toolbar-switch" onClick={this.onSetBackground.bind(this)} disabled={b.toolbarConfigShow}>
                    <div className="toolbar-button">
                        <i className="ui-icon-backstage"/>
                    </div>
                    <p className="toolbar-label">切前台/切后台</p>
                </div>
            </div>
            <div className="toolbar-item">
                <div className="toolbar-action" id="toolbar-cleancache" onClick={this.toggleCleanCache.bind(this)} disabled={b.toolbarConfigShow}>
                    <div className="toolbar-button">
                        <i className="ui-icon-cache"/>
                        <i className=""/> //下拉箭头
                    </div>
                    <p className="toolbar-label">清缓存</p>
                </div>
            </div>
        </div>
    </div>
</div>
```
