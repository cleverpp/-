# 非多账户模式下的入口组件
```
// b是react-redux的connct，则第一个函数参数是mapStateToProps，第二个函数参数是mapDispatchToProps，N是入口组件
    module.exports = b((a)=>{
        let b = !1;
        if (a.user) {
            const c = a.user;
            if (c) {
                const a = +new Date;
                a <= c.signatureExpiredTime && (b = !0)
            }
        }
        const c = a.window.mainWindow || d.MAIN_WINDOW_TYPE.LOGIN;
        return {
            hasLogin: b,
            rehydrated: a.rehydrated,
            currentProject: a.project.current,
            showSettings: a.settings.show,
            showProjectManagement: a.window.projectManagement.show,
            moveToCenter: a.window.moveToCenter,
            proxyType: a.settings.proxy.proxyType || 'SYSTEM',
            confirmPopups: a.info.confirmPopups,
            mainWindow: c,
            projectList: a.project.list
        }
    }
    , (a)=>({
        removeUserInfo: (b)=>{
            a(e.removeUserInfo(b))
        }
        ,
        closeIDESettings() {
            a(f.closeIDESettings())
        },
        setProxySetting(b) {
            a(f.setProxySetting(b))
        },
        closeProject() {
            a(g.closeProject())
        },
        setMainWindow(b) {
            a(h.setMainWindow(b))
        },
        openProject(b) {
            a(g.openProject(b)).catch(()=>{
                a(h.setMainWindow(d.MAIN_WINDOW_TYPE.ENTRANCE))
            }
            )
        }
    }))(N)
```
## componentDidMount
1. this.checkWindowStatus(this.props)
显示主窗口global.Win.show()，默认显示的主窗口类型是登录窗口（MAIN_WINDOW_TYPE.LOGIN）
2. this.updateProxy(this.props.proxyType)
更新代理服务器，默认proxyType=“SYSTEM”
3. 监听配置更新
```
B.on('CONFIG_UPDATE', this._onConfigUpdate);
```
4. 如果本地缓存中有记录最后一次打开的项目，则直接打开该项目。
5. 移除fakeBackground【猜测fakeBackground是避免了空白或闪屏而设置的】
6. 同步
```
H.startSync(),
I.startSync()
```
## render
1. 如果global.isDevWindow=false，则根据窗口类型，渲染对应的窗口组件，默认创建ENTRANCE窗口。
LOGIN:require('./021e193565a294d7eb2d08daddd97cc4.js')
ENTRANCE:require('./0deb78a56cbcc9f9f3b0823d28892e90.js')
SELECT_PROJECT:require('./299addce80fc9f50b337441dcd08bb70.js')
CREATE_PROJECT:require('./bdbf06bc9f97badd3ab5ba497b62543a.js')
CREATE_MINICODE || IMPORT_MINICODE: require('./c6e781935457a48a3f7675888ab50cfe.js')
```
<div>
    <主窗口/>
    <可选窗口，取决于this.props.confirmPopups/>
    <设置窗口，取决于this.props.showSettings/>
    <项目管理窗口，取决于this.props.showProjectManagement/>
</div>
```
2. 如果global.isDevWindow=true，则根据devType，可以开发小程序或者其他（例如：小游戏、代码片段等）
开发小程序：require('./2c0e34a9e23574aea227f3448a526c52.js')
开发其他：require('./dadaae924a58746545d3b2199ba0c470.js')
```
<div>
    <开发小程序组件/>
    <可选窗口，取决于this.props.confirmPopups/>
    <设置窗口，取决于this.props.showSettings/>
    <项目管理窗口，取决于this.props.showProjectManagement/>
</div>
```
## componentWillReceiveProps
1. this.props.mainWindow发生变化时，重新checkWindowStatus。
2. 如果用户未登录，则设置mainWindow为LOGIN
3. his.props.proxyType发生变化时，重新updateProxy

## componentDidUpdate
当前窗口类型为LOGIN，且用户已登录，则更新mainWindow为ENTRANCE
